{"version":3,"file":"main.js","sources":["js/AbstractView.js","js/StockView.js","js/WalletView.js","js/AbstractController.js","js/server-responce-mock.js","js/user-database-mock.js","js/main.js"],"sourcesContent":["export default class AbstractView {\r\n  constructor(data) {\r\n    this._data = data;\r\n  }\r\n  \r\n  get template() {\r\n    throw new Error(`You have to define template for view!`);\r\n  }\r\n\r\n  render() {\r\n    throw new Error(`You have to define render for view!`);\r\n  }\r\n\r\n  bind () {\r\n    const btns = this._container.querySelectorAll(`.main-table__btn`);\r\n    btns.forEach((btn) => {\r\n      \r\n      btn.addEventListener(`click`, (event) => {\r\n        event.preventDefault();\r\n        this.onBtnClick(event.target);\r\n      })\r\n    })\r\n  }\r\n\r\n  onBtnClick () {}\r\n}","import AbstractView from \"./AbstractView\";\r\n\r\n\r\nexport default class StockView extends AbstractView {\r\n  constructor(data) {\r\n    super( data);\r\n    this._container = document.querySelector(`.main-table__tbody--stock`)\r\n  }\r\n  \r\n  get template () {\r\n    let rows = ``;\r\n    this._data.Stocks.Items.forEach((item) => {\r\n      rows += `<tr>\r\n<td>${item.Code}</td>\r\n<td>${item.Price}</td>\r\n<td class=\"main-table__td-btn\"><button class=\"main-table__btn main-table__btn--buy\" \r\ndata-stock=\"${item.Code}\">Buy</td>\r\n      </tr>`;\r\n    });\r\n     return rows;\r\n\r\n  }\r\n  render() {\r\n    document.querySelector(`.main-table__tbody--stock`).innerHTML = this.template;\r\n  }\r\n}\r\n","import AbstractView from \"./AbstractView\";\r\n\r\n\r\nexport default class WalletView extends AbstractView {\r\n  constructor(data) {\r\n    super( data);\r\n    this._container = document.querySelector(`.main-table__tbody--wallet`)\r\n  }\r\n\r\n  get template () {\r\n    let rows = ``;\r\n    this._data.Stocks.Items.forEach((item) => {\r\n      rows += `<tr>\r\n<td>${item.Code}</td>\r\n<td>${item.Unit}</td>\r\n<td>${item.Price}</td>\r\n<td>${item.Unit * item.Price}</td>\r\n<td class=\"main-table__td-btn\"><button class=\"main-table__btn main-table__btn--sell\" \r\ndata-stock=\"${item.Code}\">Sell</td>\r\n      </tr>`;\r\n    });\r\n     return rows;\r\n\r\n  }\r\n  render() {\r\n    document.querySelector(`.main-table__tbody--wallet`).innerHTML = this.template;\r\n    \r\n    document.querySelector(`.main-table__money-value`).innerHTML = this._data.Stocks.Money;\r\n  }\r\n\r\n  \r\n}\r\n","export default class AbstractController {\r\n  constructor(view) {\r\n    this.view = view;\r\n  }\r\n\r\n  init () {\r\n    this.view.render();\r\n    this.view.bind();\r\n  }\r\n}","export default {\r\n  \"Stocks\": {\r\n    \"PublicationDate\": \"2017-08-02T15:03:02.1914785Z\",\r\n    \"Items\": [\r\n      {\r\n        \"Name\": \"Future Processing\",\r\n        \"Code\": \"FP\",\r\n        \"Unit\": \"1\",\r\n        \"Price\": \"5.0975\"\r\n      },\r\n      {\r\n        \"Name\": \"Fp Lab\",\r\n        \"Code\": \"FPL\",\r\n        \"Unit\": \"100\",\r\n        \"Price\": \"3.7295\"\r\n      }\r\n    ]\r\n  }\r\n}","export default {\r\n  \"Stocks\": {\r\n    \"PublicationDate\": \"2017-08-02T15:03:02.1914785Z\",\r\n    \"Money\": \"1500\",\r\n    \"Items\": [\r\n      {\r\n        \"Name\": \"Future Processing\",\r\n        \"Code\": \"FP\",\r\n        \"Unit\": \"1\",\r\n        \"Price\": \"5.0975\"\r\n      },\r\n      {\r\n        \"Name\": \"Fp Lab\",\r\n        \"Code\": \"FPL\",\r\n        \"Unit\": \"100\",\r\n        \"Price\": \"3.7295\"\r\n      }\r\n    ]\r\n  }\r\n}","import StockView from \"./StockView\";\r\nimport WalletView from \"./WalletView\";\r\nimport AbstractController from \"./AbstractController\";\r\n\r\nimport dataStock from \"./server-responce-mock.js\";\r\nimport dataWallet from \"./user-database-mock\";\r\n\r\nconst stock = new AbstractController (new StockView(dataStock));\r\nstock.init();\r\nstock.view.onBtnClick = (target) => {\r\n  const amount = +window.prompt(`How many positions of ${target.dataset.stock} do you like to buy?`, 1);\r\n\r\n  let confirmation;\r\n  if (amount) {\r\n     confirmation = window.confirm(`Confirm buying ${amount} position of ${target.dataset.stock}`);\r\n  }\r\n\r\n  if (confirmation === true) window.alert(`Ok!`);\r\n};\r\n\r\n\r\nconst wallet = new AbstractController (new WalletView(dataWallet));\r\nwallet.init();\r\nwallet.view.onBtnClick = (target) => {\r\n  const amount = +window.prompt(`How many positions of ${target.dataset.stock} do you like to sell?`, 1);\r\n\r\n  let confirmation;\r\n  if (amount) {\r\n    const confirmation = window.confirm(`Confirm selling ${amount} position of ${target.dataset.stock}`);\r\n  }\r\n\r\n  if (confirmation === true) window.alert(`Ok!`);\r\n};\r\n"],"names":[],"mappings":"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"}